<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>Simon Bedford</title>
		<meta name="description" content="">
		<meta name="author" content="Simon Bedford">

		<link rel="stylesheet" href="https://simonb83.github.io/theme/css/foundation.css" />
		<link rel="stylesheet" href="https://simonb83.github.io/theme/css/pygment/monokai.css" />
		<link rel="stylesheet" href="https://simonb83.github.io/theme/css/custom.css" />

		<!-- GOOGLE WEB FONTS -->
		<link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700|Droid+Sans+Mono|Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="https://simonb83.github.io/theme/css/alt-fonts.css" />

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" type="text/css" />
		<link rel="stylesheet" href="https://simonb83.github.io/css/sismo.css" type="text/css" />

		<script src="https://simonb83.github.io/theme/js/modernizr.js"></script>

		<!-- Feeds -->
		<link href="https://simonb83.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Simon Bedford Atom Feed" />

<script>var _gaq=[['_setAccount','UA-25264611-8'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>

		<!-- mathjax config similar to math.stackexchange -->
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			jax: ["input/TeX", "output/HTML-CSS"],
			tex2jax: {
				inlineMath: [ ['$', '$'] ],
				displayMath: [ ['$$', '$$']],
				processEscapes: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
			},
			messageStyle: "none",
			"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
		});
		</script>
		<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	</head>
	<body>
		<div class="off-canvas-wrap">
			<div class="inner-wrap">
				<!-- mobile top bar to activate nav -->
				<nav class="tab-bar show-for-small">
					<section class="left-small">
						<a class="left-off-canvas-toggle menu-icon" ><span></span></a>
					</section>

					<section class="middle tab-bar-section">
						<h1 class="title">Simon&nbsp;Bedford</h1>
					</section>
				</nav>

				<!-- mobile side bar nav -->
				<aside class="left-off-canvas-menu">
					<ul class="off-canvas-list">
						<li><a href="https://simonb83.github.io">Home</a></li>
						<li><label>Categories</label></li>
							<li ><a href="https://simonb83.github.io/category/books.html">Books</a></li>
							<li ><a href="https://simonb83.github.io/category/coding.html">Coding</a></li>
							<li ><a href="https://simonb83.github.io/category/customer-experience.html">Customer Experience</a></li>
							<li class="active"><a href="https://simonb83.github.io/category/data-science.html">Data Science</a></li>
							<li ><a href="https://simonb83.github.io/category/deep-learning.html">Deep Learning</a></li>
							<li ><a href="https://simonb83.github.io/category/ideas.html">Ideas</a></li>
							<li ><a href="https://simonb83.github.io/category/machine-learning.html">Machine Learning</a></li>
							<li ><a href="https://simonb83.github.io/category/maths.html">Maths</a></li>
							<li ><a href="https://simonb83.github.io/category/other.html">Other</a></li>
							<li ><a href="https://simonb83.github.io/category/tech.html">Tech</a></li>

						<!-- <li><label>Links</label></li>
							<li><a href="http://getpelican.com/">Pelican</a></li>
							<li><a href="http://python.org/">Python.org</a></li>
							<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
							<li><a href="#">You can modify those links in your config file</a></li>
 -->


						<li><label>Monthly Archives</label></li>
									<li><a href="/posts/2017/09/index.html">September 2017 (2)</a></li>
									<li><a href="/posts/2017/06/index.html">June 2017 (1)</a></li>
									<li><a href="/posts/2017/03/index.html">March 2017 (1)</a></li>
									<li><a href="/posts/2017/02/index.html">February 2017 (1)</a></li>
									<li><a href="/posts/2017/01/index.html">January 2017 (1)</a></li>
									<li><a href="/posts/2016/11/index.html">November 2016 (3)</a></li>
									<li><a href="/posts/2016/10/index.html">October 2016 (4)</a></li>
									<li><a href="/posts/2016/03/index.html">March 2016 (1)</a></li>
									<li><a href="/posts/2016/02/index.html">February 2016 (2)</a></li>
									<li><a href="/posts/2016/01/index.html">January 2016 (1)</a></li>
									<li><a href="/posts/2015/08/index.html">August 2015 (1)</a></li>
									<li><a href="/posts/2015/03/index.html">March 2015 (2)</a></li>
									<li><a href="/posts/2015/02/index.html">February 2015 (6)</a></li>

						<li><label>Social</label></li>
							<li><a href="http://github.com/simonb83">GitHub</a></li>
							<li><a href="https://mx.linkedin.com/in/simonbedford">LinkedIn</a></li>
							<li><a href="http://twitter.com/simonb83">Twitter</a></li>
					</ul>	
				</aside>

				<!-- top bar nav -->
				<nav class="top-bar hide-for-small-only" data-topbar>
					<ul class="title-area">
						<li class="name">
							<h1><a href="https://simonb83.github.io/">Simon Bedford</a></h1>
						</li>
					</ul>

					<section class="top-bar-section">
						<!-- <ul class="left">
								<li ><a href="https://simonb83.github.io/category/books.html">Books</a></li>
								<li ><a href="https://simonb83.github.io/category/coding.html">Coding</a></li>
								<li ><a href="https://simonb83.github.io/category/customer-experience.html">Customer Experience</a></li>
								<li class="active"><a href="https://simonb83.github.io/category/data-science.html">Data Science</a></li>
								<li ><a href="https://simonb83.github.io/category/deep-learning.html">Deep Learning</a></li>
								<li ><a href="https://simonb83.github.io/category/ideas.html">Ideas</a></li>
								<li ><a href="https://simonb83.github.io/category/machine-learning.html">Machine Learning</a></li>
								<li ><a href="https://simonb83.github.io/category/maths.html">Maths</a></li>
								<li ><a href="https://simonb83.github.io/category/other.html">Other</a></li>
								<li ><a href="https://simonb83.github.io/category/tech.html">Tech</a></li>
						</ul> -->
                        <ul class="right">                                                                                                                                           
                                                                                                          
路路路路                                                                                                                                       
                                     <li><a href="https://simonb83.github.io/pages/about.html">About</a></li>                                    
                                                                                                                                          
                                                                                                                                             
                        </ul>  
					</section>
				</nav>

				<!-- Main Page Content and Sidebar -->
				<section class="main-section">
					<div class="row">
						<!-- Main Content -->
						<div class="medium-9 small-12 columns" role="content">
<article>
	<h2>An Analysis of Tweets About the Earthquake in Mexico</h2>
	<p>On Tuesday 19th September, a magnitude 7.1 earthquake hit Mexico, causing serious damage in and around Mexico City and Morelos and Puebla states.</p>
<p>In Mexico City, at the time of writing, there were reports of at least 180 dead and nearly 40 collapsed buildings, as well as hundreds or even thousands more structures with bad enough damage that will almost certainly mean that they have to be knocked down.</p>
<p>This was the worst earthquake to hit Mexico since one that, in a tragic coincidence, took place 32 years ago to-the-day in 1985.</p>
<p>One big difference between what happened in 1985 and the last few days has been that the vast majority of people have experienced recent events through digital media, and in particular social networks.</p>
<p>I have spoken with a number of people about their recollections of 1985, and pretty consistently they talk about how hard it was to know what was happening in different parts of the city. In contrast, during the past week it has been almost impossible not to be surrounded by 24-hour coverage of events.</p>
<h3>Social Networks - A blessing or a curse?</h3>
<p>In many ways social networks along with messaging apps have played a critical role in the reaction to and management of this disaster, at least in Mexico City.</p>
<p>During the immediate aftermath of the earthquake, phone lines were either saturated or just not working, and for many people WhatsApp and Facebook provided the only option for getting-in-touch with loved ones and friends.</p>
<p>Later on, once the scale of damage and destruction became clear, people began to use Twitter and Facebook to send messages about people and buildings in danger or need-of-help, as well as to spread urgent requests for food, water and tools.</p>
<p>However, one thing that became clear was how even well-intentioned actions don't always result in the best outcome. In some cases, tweets about collapsed buildings with "nobody helping" turned out to be false, but not before seemingly going viral and provoking an influx of well-meaning people into the surrounding area, causing traffic and additional chaos in the streets.</p>
<p>Similarly, many people continued to share and retweet requests for help more than 24 hours after the original message, when the situation on the ground would have been very different, potentially diverting valuable resources from where they were most needed.</p>
<h3>How should we use social networks in these circumstances?</h3>
<p>Mexico is one of the countries with the highest levels of seismic activity in the world. It is, unfortunately, inevitable that there will be another earthquake at some point in the future that is as bad as or worse than the one a week ago. Although we can't predict when it will happen, we can work on being better prepared.</p>
<p>All of the social media messages from the past week could provide an invaluable source of data for better understanding how people react to natural disasters, and enable us to answer questions like:</p>
<ul>
<li>What sort of things are people saying at different points in time following the event?</li>
<li>What are the characteristics of messages that go viral?</li>
<li>How do requests for help, supplies and tools change aand evolve over time?</li>
</ul>
<p>Using this information we can begin to build better digital tools for use in future disasters, for example to coordinate volunteers and donations, or to prevent the spread of erroneous or outdated information.</p>
<p>With this in mind, last Thursday I started to download as many tweets as possible about last week's earthquake, specifically focusing on the first 72 hours up until Friday afternoon.</p>
<p>My specific criteria for the search were:</p>
<ol>
<li>Tweets containing particular hastags (e.g, #sismo, #SismoMexico2017, #ayudaCDMX)</li>
<li>Tweets sent from or to key accounts(e.g, Red Cross, Civil Protection etc.)</li>
</ol>
<p>The search took almost 4 days and resulted in a 50GB file containing 7.3 million tweets along with all of their metadata.</p>
<h2>What can we learn from all of this data?</h2>
<h3>1. People took to Twitter just minutes after the earthquake occurred</h3>
<p>In fact, in just 6 hours between 2pm and 8pm on Tuesday 19th September, more than 1.6 million tweets were sent, which is 23% of all of the tweets returned by my search.</p>
<p>Below you can see the hourly distribution of all of the tweets:</p>
<div class="title">Number of tweets sent per hour</div>

<div id="tweets_per_hour_container">
    <svg id="tweets_per_hour"></svg>
</div>

<p><strong>Note:</strong> The drop in volume on Thursday and Friday doesn't neccessarily mean people stopped tweeting about the quake; for example these tweets won't contain tweets with new hashtags that surfaced around those days</p>
<h3>2. People used hashtags to give their tweets visibility</h3>
<p>Out of the 7.3 million tweets, 93% contained at least one hashtag (although this isn't so surprising given that a key criteria for the search was a list of hashtags)</p>
<p>Among the top 10 hashtags, those referring to Mexico City were 3.5 times more common that ones about Puebla or Morelos.</p>
<div class="title">Top 10 Hashtags</div>

<div id="wordcloud_hashtags"></div>

<h3>3. The most retweeted tweets included official updates, requests for help, and stories about dogs</h3>
<p><img alt="tweet_1" src="/images/sismo_tweet_1.png" /></p>
<p><img alt="tweet_2" src="/images/sismo_tweet_2.png" /></p>
<p><img alt="tweet_3" src="/images/sismo_tweet_3.png" /></p>
<p><img alt="tweet_5" src="/images/sismo_tweet_5.png" /></p>
<p><img alt="tweet_7" src="/images/sismo_tweet_7.png" /></p>
<p><img alt="tweet_8" src="/images/sismo_tweet_8.png" /></p>
<h3>4. People from all around the world were tweeting although, unsurprisingly, the majority were concentrated in Mexico City</h3>
<div id="map" data-source="data/tweets_simple.json"></div>

<p><strong>Note:</strong> The map isn't representative of all tweets; only 3,939 of the 7.3 million twets (0.05%) had geographic metadata</p>
<h3>5. The most commonly ocurring words were 'Mexico', 'people' and 'please'</h3>
<div id="wordcloud_all"></div>

<p><br></p>
<h3>6. The phrase "collection center" was by far the most common two-word pairing</h3>
<div class="title">16 most-common bigrams</div>

<div id="bigrams_container">
    <svg id="bigrams"></svg>
</div>

<p><strong>Note:</strong><br>
Bigrams are pairs of words. In this case, prior to calculating frequencies, I removed stop words (i.e. the, and etc.) and converted words into their root form.</p>
<h3>7. When people tweeted requests for help, they were typically asking for volunteers, (electrical) generators, help finding someone and for people to share information</h3>
<div class="title">Most common words in requests for help</div>

<div id="wordcloud_retweets"></div>

<p><br></p>
<h3>8. Tweets asking for volunteers continued to be shared more that 20 hours after the original message</h3>
<p>As I mentioned earlier on, one problem, at least anecdotally, was people sharing outdated information.</p>
<p>We can get more insight into this by looking at retweets of messages like:</p>
<blockquote>
<p>"More volunteers are needed in Xochimilo. We need replacement tools in Amsterdam / Huichapan to continue with rescue work.""</p>
<p>"We need lots of help in Viadutco / Monterrey, one block from parque delta, a lot of people have already left. Please RT. #Sismo #prayformexicocity"</p>
<p>"San Gregorio Xochimilco needs help. There are people under the rubble, volunteers and supplies are needed #AyudaCDMX"</p>
</blockquote>
<p>In total, these three message were retweeted almost 34,000 times. In the chart below you can see that approximately 30% of the retweets ocurred more than 5 hours after the initial message.</p>
<div class="title">Hourly distribution of retweets</div>

<div id="retweets_per_hour_container">
    <svg id="retweets_per_hour"></svg>
</div>

<h3>Conclusion</h3>
<p>These charts only scrape the surface of the insights we could obtain from this sort of data.</p>
<p>In particular, there are many natural language processing (NLP) tools we could use to analyze tweet sentiment, or to track in more detail the type of help requested at different points in time.</p>
<p>Nonetheless, its quite interesting to see the story of the earthquake told through tweets, from the intensity of tweeting activity in the initial hours, to the very human need to share 'lighter' things, such as all of the stories about rescue dogs. </p>
<p>One positive takeaway is the fact the the two most retweeted messages were a link to a Google tool for locating people, and a tweet trying to minimize fake news by reinforcing the point that earthquakes can't be predicted.</p>
<p>As a next step, I would focus on creating a tool for measuring the similarity between tweets in order to better identify false or out-of-date news in real-time.</p>
<p>This could be combined with a chatbot that can both keep track of newly emerging news, and also automatically respond to people sharing old information.</p>
<div class="footnotes">
<strong>Notes:</strong><br><br>

<strong>Search Criteria:</strong>

<ol>
    <li>Complete list of hashtags used: ayudaCDMX, fuerzamexico, sismo, SismoMexico2017, Sismomexico2017, AyudaM茅xico, AyudaMexico, FuerzaMexico, fuerzaCdMx, cdmxsismo, Morelos, Puebla, MorelosEstaDePie, PueblaSigueDePie, PueblaEstaDePie, mexicoestadepie, Sismo, Rebsamen, ERUM, RescatePrimero</li>
    <li>Complete list of acounts used: SismologicoMX, SPCCDMX, PcSegob, SEGOB_mx, SeGobCDMX, VoluntariosErum, topos, MetroCDMX, SSP_CDMX, PoliciaFedMx, CruzRoja_MX</li>
</ol>

<strong>Most Retweeted:</strong>

<ol>
    <li>The examples are numbers 1, 2, 3, 5, 7 and 8 respectively</li>
</ol>

<strong>Bigrams analysis:</strong>

<ol>
    <li>In order to analyze bigrams, I first eliminated common words (stop words), and converted each word to its root form using an nltk stemmer</li>
    <li>Prior to creating the chart, I attempted to convert stemmed words back to a more identifiable form ej., 'necesitar' en lugar de 'necesit'</li>
    <li>The chart doesn't include bigrams that are common names (e.g., Mexico City, Red Cross)
    <li>I removed a couple of very similar / almost overlapping bigrams</li>
</ol>

<strong>Most common words in requests for help</strong>

<ol>
    <li>I started with certain base words: "urge", "necesitamos", "solicitamos", "requiere"</li>
    <li>Then, using the list of bigrams, I counted the most common words following the base words</li>
    <li>I elminated the following words from the final list: "ayuda", "apoyo", "crear", "urge" and "siguiente" given that they don't add much value, and I wanted to understand the type of help people were asking for</li>
</ol>

</div>
	<hr/>
	<h6>Written by <a href="https://simonb83.github.io/author/simon-bedford.html">Simon Bedford</a> in <a href="https://simonb83.github.io/category/data-science.html">Data Science</a> on Wed 27 September 2017. Tags: <a href="https://simonb83.github.io/tag/data-science.html">data-science</a>, <a href="https://simonb83.github.io/tag/visualization.html">visualization</a>, <a href="https://simonb83.github.io/tag/python.html">python</a>, </h6>
</article>

<hr/>
						</div>
						<!-- End Main Content -->
						<!-- Sidebar -->
						<aside class="medium-3 hide-for-small-only columns">
							<!-- <div class="panel">
								<h5>Links</h5>
								<ul class="side-nav">
									<li><a href="http://getpelican.com/">Pelican</a></li>
									<li><a href="http://python.org/">Python.org</a></li>
									<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
									<li><a href="#">You can modify those links in your config file</a></li>
								</ul>
							</div> -->

							<div class="panel">
								<h5>Categories</h5>
								<ul class="side-nav">
										<li><a href="category/books.html">Books</a></li>
										<li><a href="category/coding.html">Coding</a></li>
										<li><a href="category/customer-experience.html">Customer Experience</a></li>
										<li><a href="category/data-science.html">Data Science</a></li>
										<li><a href="category/deep-learning.html">Deep Learning</a></li>
										<li><a href="category/ideas.html">Ideas</a></li>
										<li><a href="category/machine-learning.html">Machine Learning</a></li>
										<li><a href="category/maths.html">Maths</a></li>
										<li><a href="category/other.html">Other</a></li>
										<li><a href="category/tech.html">Tech</a></li>
								</ul>
							</div>

							<div class="panel">
								<h5>Tags</h5>
								<ul class="tag-cloud">
									<li><a href="/tag/science.html" class="tag-4">science</a></li>
									<li><a href="/tag/visualization.html" class="tag-1">visualization</a></li>
									<li><a href="/tag/maths.html" class="tag-2">maths</a></li>
									<li><a href="/tag/politics.html" class="tag-4">politics</a></li>
									<li><a href="/tag/payments.html" class="tag-4">payments</a></li>
									<li><a href="/tag/neural-network.html" class="tag-3">neural-network</a></li>
									<li><a href="/tag/coding.html" class="tag-3">coding</a></li>
									<li><a href="/tag/machine-learning.html" class="tag-1">machine-learning</a></li>
									<li><a href="/tag/books.html" class="tag-4">books</a></li>
									<li><a href="/tag/information-theory.html" class="tag-4">information-theory</a></li>
									<li><a href="/tag/networks.html" class="tag-4">networks</a></li>
									<li><a href="/tag/ai.html" class="tag-4">ai</a></li>
									<li><a href="/tag/matplotlib.html" class="tag-4">matplotlib</a></li>
									<li><a href="/tag/10ideas.html" class="tag-2">10ideas</a></li>
									<li><a href="/tag/bitcoin.html" class="tag-4">bitcoin</a></li>
									<li><a href="/tag/python.html" class="tag-1">python</a></li>
									<li><a href="/tag/deep-learning.html" class="tag-2">deep-learning</a></li>
									<li><a href="/tag/customer-experience.html" class="tag-2">customer-experience</a></li>
									<li><a href="/tag/cooking.html" class="tag-4">cooking</a></li>
									<li><a href="/tag/uncertainty.html" class="tag-4">uncertainty</a></li>
									<li><a href="/tag/crypto-currencies.html" class="tag-4">crypto-currencies</a></li>
									<li><a href="/tag/data-science.html" class="tag-1">data-science</a></li>
									<li><a href="/tag/exploratory-analysis.html" class="tag-4">exploratory-analysis</a></li>
								</ul>
							</div>

							<div class="panel">
								<h5>Monthly Archives</h5>
								<ul class="side-nav">
											<li><a href="/posts/2017/09/index.html">September 2017 (2)</a></li>
											<li><a href="/posts/2017/06/index.html">June 2017 (1)</a></li>
											<li><a href="/posts/2017/03/index.html">March 2017 (1)</a></li>
											<li><a href="/posts/2017/02/index.html">February 2017 (1)</a></li>
											<li><a href="/posts/2017/01/index.html">January 2017 (1)</a></li>
											<li><a href="/posts/2016/11/index.html">November 2016 (3)</a></li>
											<li><a href="/posts/2016/10/index.html">October 2016 (4)</a></li>
											<li><a href="/posts/2016/03/index.html">March 2016 (1)</a></li>
											<li><a href="/posts/2016/02/index.html">February 2016 (2)</a></li>
											<li><a href="/posts/2016/01/index.html">January 2016 (1)</a></li>
											<li><a href="/posts/2015/08/index.html">August 2015 (1)</a></li>
											<li><a href="/posts/2015/03/index.html">March 2015 (2)</a></li>
											<li><a href="/posts/2015/02/index.html">February 2015 (6)</a></li>
								</ul>
							</div>

							<div class="panel">
								<h5>Social</h5>
								<ul class="side-nav">
									<li><a href="http://github.com/simonb83">GitHub</a></li>
									<li><a href="https://mx.linkedin.com/in/simonbedford">LinkedIn</a></li>
									<li><a href="http://twitter.com/simonb83">Twitter</a></li>
								</ul>
							</div>
						</aside>
						<!-- End Sidebar -->
					</div>

					<!-- Footer -->
					<footer class="row">
						<div class="medium-9 small-12">
							<hr/>
							<p class="text-center">Powered by <a href="http://getpelican.com">Pelican</a> and <a href="http://foundation.zurb.com/">Zurb Foundation</a>. Theme by <a href="http://hamaluik.com">Kenton Hamaluik</a>.</p>
						</div>
					</footer>
					<!-- End Footer -->
				</section>
				<a class="exit-off-canvas"></a>
			</div><!--off-canvas inner-->
		</div><!--off-canvas wrap-->

		<script src="https://simonb83.github.io/theme/js/jquery.js"></script>
		<script src="https://simonb83.github.io/theme/js/foundation.min.js"></script>
		<script>
			$(document).foundation();
		</script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.2/d3.min.js"></script>
		<script src="https://d3js.org/d3.hexbin.v0.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet-src.js"></script>
		<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
		<script src="https://simonb83.github.io/js/sismo.min.js"></script>

	</body>
</html>